
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Usage (Penggunaan) &#8212; MISP RKS Blue 1 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Introduction (Intro)" href="Development.html" />
    <link rel="prev" title="Installation (Tahap Instalasi)" href="Installation.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="usage-penggunaan">
<h1>Usage (Penggunaan)<a class="headerlink" href="#usage-penggunaan" title="Permalink to this headline">¶</a></h1>
<div class="section" id="penggunaan-misp-docker">
<h2>Penggunaan MISP Docker<a class="headerlink" href="#penggunaan-misp-docker" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li><p>Melakukan inisiasi database</p></li>
</ol>
<div class="highlight-RST notranslate"><div class="highlight"><pre><span></span>$ docker run -it --rm \
&gt;     -v /docker/misp-db:/var/lib/mysql \
&gt;     harvarditsecurity/misp /init-db
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li><p>Menjalankan container</p></li>
</ol>
<div class="highlight-RST notranslate"><div class="highlight"><pre><span></span>$ docker run -it -d \
&gt;     -p 443:443 \
&gt;     -p 80:80 \
&gt;     -p 3306:3306 \
&gt;     -p 6666:6666 \
&gt;     -v $docker-root/misp-db:/var/lib/mysql \
&gt;     harvarditsecurity/misp
</pre></div>
</div>
<ol class="arabic simple" start="3">
<li><p>Mengakses web URL di browser</p></li>
</ol>
<div class="highlight-RST notranslate"><div class="highlight"><pre><span></span>https://localhost (atau sesuai konfigurasi pada MISP_FQDN)

Username : admin@admin.test
Password : admin
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/loginmisp.png"><img alt="_images/loginmisp.png" class="align-center" src="_images/loginmisp.png" style="width: 600px;" /></a>
<ol class="arabic simple" start="4">
<li><p>Login ke MISP web dengan username dan password default. Selanjutnya lakukan perubahan pada password default.</p></li>
</ol>
</div>
<div class="section" id="penggunaan-pymisp">
<h2>Penggunaan PyMISP<a class="headerlink" href="#penggunaan-pymisp" title="Permalink to this headline">¶</a></h2>
<p><strong>Penggunaan Add Event Otomatis (Auto Cache dan Fetch Events) PyMISP Per 1 Feed</strong>.</p>
<ol class="arabic simple">
<li><p>Masuk ke direktori PyMISP/examples</p></li>
</ol>
<div class="highlight-RST notranslate"><div class="highlight"><pre><span></span>$ cd PyMISP/examples
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li><p>Salin file keys.py.sample menjadi file keys.py</p></li>
</ol>
<div class="highlight-RST notranslate"><div class="highlight"><pre><span></span>$ cp keys.py.sample keys.py
</pre></div>
</div>
<ol class="arabic simple" start="3">
<li><p>Modifikasi konfigurasi keys.py sesuai API key dari MISP yang terdapat pada Automation section di MISP web</p></li>
</ol>
<div class="highlight-RST notranslate"><div class="highlight"><pre><span></span>$ nano keys.py
</pre></div>
</div>
<p>Contoh konfigurasi keys.py :</p>
<a class="reference internal image-reference" href="_images/keyspy.png"><img alt="_images/keyspy.png" class="align-center" src="_images/keyspy.png" style="width: 600px;" /></a>
<a class="reference internal image-reference" href="_images/automation.png"><img alt="_images/automation.png" class="align-center" src="_images/automation.png" style="width: 600px;" /></a>
<ol class="arabic simple" start="4">
<li><p>Modifikasi script Python untuk cache feed dan fetch events pada file auto_cache_fetch.py seperti berikut.</p></li>
</ol>
<div class="highlight-RST notranslate"><div class="highlight"><pre><span></span>#!/usr/bin/env python
#-<span class="ge">*- coding: utf-8 -*</span>-

from keys import misp_url, misp_key, misp_verifycert
import argparse
from pymisp import ExpandedPyMISP

if __name__ == &#39;__main__&#39;:
   parser = argparse.ArgumentParser(description=&#39;Cache Feed and Fetch Evens from         Feed.&#39;)
  parser.add_argument(&quot;-f&quot;, &quot;--feed&quot;, required=True, help=&quot;feed&#39;s ID to be Fetched&quot;)
  args = parser.parse_args()

  misp = ExpandedPyMISP(misp_url, misp_key, misp_verifycert)
  misp.cache_feed(args.feed)
  misp.fetch_feed(args.feed)
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/autocache.png"><img alt="_images/autocache.png" class="align-center" src="_images/autocache.png" style="width: 600px;" /></a>
<ol class="arabic simple" start="5">
<li><p>Jalankan file python auto_cache_fetch.py dan beri nomor ID</p></li>
</ol>
<div class="highlight-RST notranslate"><div class="highlight"><pre><span></span>python auto_cache_fetch.py -f 12
</pre></div>
</div>
<ol class="arabic simple" start="6">
<li><p>Pada website MISP akan muncul seperti berikut</p></li>
</ol>
<a class="reference internal image-reference" href="_images/webmisp.png"><img alt="_images/webmisp.png" class="align-center" src="_images/webmisp.png" style="width: 600px;" /></a>
<p><strong>Penggunaan Add Event Otomatis (Auto Cache dan Fetch Events) PyMISP Lebih dari 1 Feed Menggunakan Cronjob</strong></p>
<ol class="arabic simple">
<li><p>Masuk ke direktori PyMISP/examples</p></li>
</ol>
<div class="highlight-RST notranslate"><div class="highlight"><pre><span></span>$ cd PyMISP/examples
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li><p>Salin file auto_cache_fetch.py menjadi auto_cache_fetch_cron.py</p></li>
</ol>
<div class="highlight-RST notranslate"><div class="highlight"><pre><span></span>$ cp auto_cache_fetch.py auto_cache_fetch_cron.py
</pre></div>
</div>
<ol class="arabic simple" start="3">
<li><p>Modifikasi script Python untuk cache feed dan fetch events lebih dari 1 feed</p></li>
</ol>
<div class="highlight-RST notranslate"><div class="highlight"><pre><span></span>#!/usr/bin/env python
#-<span class="ge">*- coding: utf-8 -*</span>-

from keys import misp_url, misp_key, misp_verifycert
import argparse
import time
from pymisp import ExpandedPyMISP

if __name__ == &#39;__main__&#39;:
  misp = ExpandedPyMISP(misp_url, misp_key, misp_verifycert)
  for x in range(3,5):
      print (&quot;Start: %s&quot; % time.ctime())
      misp.cache_feed(x)
      misp.fetch_feed(x)
      print (x)
      print (&quot;End: %s&quot; % time.ctime())
      time.sleep(60)
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/cronpy.png"><img alt="_images/cronpy.png" class="align-center" src="_images/cronpy.png" style="width: 600px;" /></a>
<ol class="arabic simple" start="4">
<li><p>Modifikasi file crontab dengan menambahkan konfigurasi berikut untuk membuat crontabnya.</p></li>
</ol>
<div class="highlight-RST notranslate"><div class="highlight"><pre><span></span><span class="ge">*/2 *</span> <span class="ge">* *</span> * /usr/bin/python3 /root/PyMISP/examples/auto_cache_fetch_cron.py
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/crontab.png"><img alt="_images/crontab.png" class="align-center" src="_images/crontab.png" style="width: 600px;" /></a>
<p>Script tersebut memiliki pengertian bahwa setiap 2 menit sekali, feed dengan ID 3 dan ID 4 akan secara otomatis berkala melakukan auto cache dan fetch events.</p>
<ol class="arabic simple" start="5">
<li><p>Pada website MISP akan muncul tampilan seperti berikut.</p></li>
</ol>
<a class="reference internal image-reference" href="_images/webmisp2.png"><img alt="_images/webmisp2.png" class="align-center" src="_images/webmisp2.png" style="width: 600px;" /></a>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/CyberBlue.png" alt="Logo"/>
            </a></p>
<h1 class="logo"><a href="index.html">MISP RKS Blue</a></h1>








<h3>Navigation</h3>
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="Introduction.html">Introduction (Intro)</a></li>
<li class="toctree-l1"><a class="reference internal" href="Installation.html">Installation (Tahap Instalasi)</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Usage (Penggunaan)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#penggunaan-misp-docker">Penggunaan MISP Docker</a></li>
<li class="toctree-l2"><a class="reference internal" href="#penggunaan-pymisp">Penggunaan PyMISP</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Development.html">Introduction (Intro)</a></li>
<li class="toctree-l1"><a class="reference internal" href="Development.html#indices-and-tables">Indices and tables</a></li>
<li class="toctree-l1"><a class="reference internal" href="Remarks.html">Introduction (Intro)</a></li>
<li class="toctree-l1"><a class="reference internal" href="Remarks.html#indices-and-tables">Indices and tables</a></li>
<li class="toctree-l1"><a class="reference internal" href="Author.html">Introduction (Intro)</a></li>
<li class="toctree-l1"><a class="reference internal" href="Author.html#indices-and-tables">Indices and tables</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="Installation.html" title="previous chapter">Installation (Tahap Instalasi)</a></li>
      <li>Next: <a href="Development.html" title="next chapter">Introduction (Intro)</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2020, Febrian R, Rizky F, Satya J, Setyo A.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 3.1.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/Usage.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>